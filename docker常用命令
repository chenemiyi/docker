docker run -it ubuntu /bin/bash
-i: 交互式操作
-t: 终端

docker run -itd --name ubuntu-test ubuntu /bin/bash
-d 参数默认不会进入容器

 docker attach 1e560fca3906 
 如果从这个容器退出，会
 
 [root@izbp1i4dkyavklohj96seaz ~]# docker images -a
REPOSITORY   TAG       IMAGE ID       CREATED       SIZE
nginx        latest    f6d0b4767a6c   2 weeks ago   133MB
nginx        v1.0      f6d0b4767a6c   2 weeks ago   133MB
导致容器的停止
 
 docker exec -it 243c32535da7 /bin/bash
 如果从这个容器退出，容器不会停止
  
  docker pull ubuntu:18.04
  （docker pull registry.hub.docker.com/ubuntu:18.04）
  
  # docker tag nginx:latest nginx:v1.0
[root@izbp1i4dkyavklohj96seaz ~]# docker images -a
REPOSITORY   TAG       IMAGE ID       CREATED       SIZE
nginx        latest    f6d0b4767a6c   2 weeks ago   133MB
nginx        v1.0      f6d0b4767a6c   2 weeks ago   133MB

# docker inspect -f  {{".Os"}} nginx:v1.0  inspect查看某一个字段信息，字段前加.

[root@izbp1i4dkyavklohj96seaz ~]# docker inspect -f  {{".Architecture"}} nginx:v1.0
amd64
[root@izbp1i4dkyavklohj96seaz ~]# docker inspect -f  {{".Os"}} nginx:v1.0
linux


# docker history nginx:v1.0
(# docker history nginx:v1.0 --no-trunc  查看完整输出)

# docker search nginx


# docker image prune  清理镜像


# docker save -o bao/nginx.tar nginx:latest  存出镜像
# docker export -o  *.tar 容器ID  导出容器
# docker load -i nginx.tar 导入镜像
# docker import *.tar -mysql:latest 导入容器的镜像
容器快照文件将丢弃所有的历史记录和元数据信息（即仅保存容器当时的快照状态），而镜像存储文件将保存完整记录，体积更大。此外，从容器快照文件导入时可以重新指定标签等元数据信息。


上传镜像：
（前提）
# docker login
# docker tag nginx:latest 18004460727/test:v1.0  tag和dockerhub标签一致
# docker push 18004460727/test:v1.0  
（登录信息在/root/.docker/config.json）

docker ps -qa 查看所有容器ID

# docker pause 2fba22726921  暂停容器

[root@izbp1i4dkyavklohj96seaz ~]# docker ps -a
CONTAINER ID   IMAGE     COMMAND                  CREATED        STATUS                   PORTS     NAMES
2fba22726921   nginx     "/docker-entrypoint.…"   26 hours ago   Up 13 seconds (Paused)   80/tcp    hopeful_black


docker container prune  自动清除掉所有处于停止状态的容器


